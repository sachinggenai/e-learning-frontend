{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://elearning-app.com/schemas/course.json",
  "title": "eLearning Course Schema",
  "description": "JSON Schema for eLearning course structure - Phase 1 MVP",
  "type": "object",
  "properties": {
    "courseId": {
      "type": "string",
      "description": "Unique identifier for the course",
      "pattern": "^[a-zA-Z0-9_-]+$",
      "minLength": 1,
      "maxLength": 50
    },
    "title": {
      "type": "string",
      "description": "Course title",
      "minLength": 1,
      "maxLength": 200
    },
    "author": {
      "type": "string",
      "description": "Course author name",
      "minLength": 1,
      "maxLength": 100
    },
    "language": {
      "type": "string",
      "description": "Course language code",
      "default": "en",
      "enum": [
        "en",
        "es",
        "fr",
        "de",
        "it",
        "pt",
        "nl",
        "pl",
        "ru",
        "ja",
        "ko",
        "zh"
      ]
    },
    "description": {
      "type": "string",
      "description": "Course description",
      "maxLength": 500
    },
    "version": {
      "type": "string",
      "description": "Course version",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "default": "1.0.0"
    },
    "createdAt": {
      "type": "string",
      "format": "date-time",
      "description": "Course creation timestamp"
    },
    "updatedAt": {
      "type": "string",
      "format": "date-time",
      "description": "Last update timestamp"
    },
    "templates": {
      "type": "array",
      "description": "Array of course templates/slides",
      "maxItems": 100,
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique template identifier",
            "pattern": "^[a-zA-Z0-9_-]+$"
          },
          "type": {
            "type": "string",
            "description": "Template type",
            "enum": [
              "welcome",
              "content-video",
              "mcq",
              "content-text",
              "summary"
            ]
          },
          "order": {
            "type": "integer",
            "description": "Display order (unique within course)",
            "minimum": 0
          },
          "title": {
            "type": "string",
            "description": "Template title",
            "maxLength": 100
          },
          "data": {
            "type": "object",
            "description": "Template-specific data",
            "properties": {
              "content": {
                "type": "string",
                "description": "Main content text"
              },
              "subtitle": {
                "type": "string",
                "description": "Optional subtitle"
              },
              "videoUrl": {
                "type": "string",
                "format": "uri",
                "description": "Video URL for content-video templates"
              },
              "questions": {
                "type": "array",
                "description": "Questions for MCQ templates",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "question": {
                      "type": "string",
                      "minLength": 1
                    },
                    "options": {
                      "type": "array",
                      "minItems": 2,
                      "maxItems": 6,
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "text": {
                            "type": "string",
                            "minLength": 1
                          },
                          "isCorrect": {
                            "type": "boolean",
                            "default": false
                          }
                        },
                        "required": ["id", "text", "isCorrect"]
                      }
                    }
                  },
                  "required": ["id", "question", "options"]
                }
              }
            }
          }
        },
        "required": ["id", "type", "order", "title", "data"],
        "additionalProperties": false
      }
    },
    "assets": {
      "type": "array",
      "description": "Course assets (images, videos, etc.)",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Asset identifier"
          },
          "path": {
            "type": "string",
            "description": "Asset file path"
          },
          "type": {
            "type": "string",
            "description": "Asset type",
            "enum": ["video", "image", "audio", "document", "other"]
          },
          "name": {
            "type": "string",
            "description": "Asset display name"
          },
          "size": {
            "type": "integer",
            "description": "File size in bytes",
            "minimum": 0
          },
          "mimeType": {
            "type": "string",
            "description": "MIME type of the asset"
          }
        },
        "required": ["id", "path", "type", "name"],
        "additionalProperties": false
      }
    },
    "navigation": {
      "type": "object",
      "description": "Navigation settings",
      "properties": {
        "allowSkip": {
          "type": "boolean",
          "default": true,
          "description": "Allow users to skip slides"
        },
        "showProgress": {
          "type": "boolean",
          "default": true,
          "description": "Show progress indicator"
        },
        "linearProgression": {
          "type": "boolean",
          "default": false,
          "description": "Force linear progression through slides"
        }
      },
      "additionalProperties": false
    },
    "settings": {
      "type": "object",
      "description": "Course settings",
      "properties": {
        "theme": {
          "type": "string",
          "enum": ["default", "dark", "light", "corporate"],
          "default": "default"
        },
        "autoplay": {
          "type": "boolean",
          "default": false,
          "description": "Auto-advance slides"
        },
        "duration": {
          "type": "integer",
          "description": "Expected course duration in minutes",
          "minimum": 1
        }
      },
      "additionalProperties": false
    }
  },
  "required": ["courseId", "title", "author", "templates"],
  "additionalProperties": false
}
